<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Quarto - Datenmanagement und deskriptive Statistik</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Quarto</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Themen/01/01_Allgemeines.html" rel="" target="">
 <span class="menu-text">Allgemeines</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../Themen/02/02_DeskriptiveStats.html" rel="" target="" aria-current="page">
 <span class="menu-text">Deskriptive Statistik</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-pot" id="toc-sec-pot" class="nav-link active" data-scroll-target="#sec-pot">Beispieldatensatz potato.xlsx</a></li>
  <li><a href="#datenmanagement-mit-dplyr" id="toc-datenmanagement-mit-dplyr" class="nav-link" data-scroll-target="#datenmanagement-mit-dplyr">Datenmanagement mit dplyr</a>
  <ul class="collapse">
  <li><a href="#zeilen" id="toc-zeilen" class="nav-link" data-scroll-target="#zeilen">Zeilen</a>
  <ul class="collapse">
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter">filter</a></li>
  <li><a href="#arrange" id="toc-arrange" class="nav-link" data-scroll-target="#arrange">arrange</a></li>
  <li><a href="#slice" id="toc-slice" class="nav-link" data-scroll-target="#slice">slice</a></li>
  </ul></li>
  <li><a href="#spalten" id="toc-spalten" class="nav-link" data-scroll-target="#spalten">Spalten</a>
  <ul class="collapse">
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select">select</a></li>
  <li><a href="#rename" id="toc-rename" class="nav-link" data-scroll-target="#rename">rename</a></li>
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate">mutate</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#deskriptive-statistik" id="toc-deskriptive-statistik" class="nav-link" data-scroll-target="#deskriptive-statistik">Deskriptive Statistik</a>
  <ul class="collapse">
  <li><a href="#qualitative-daten" id="toc-qualitative-daten" class="nav-link" data-scroll-target="#qualitative-daten">Qualitative Daten</a></li>
  <li><a href="#quantitative-daten" id="toc-quantitative-daten" class="nav-link" data-scroll-target="#quantitative-daten">Quantitative Daten</a></li>
  <li><a href="#anwendungsbeispiele" id="toc-anwendungsbeispiele" class="nav-link" data-scroll-target="#anwendungsbeispiele">Anwendungsbeispiele</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Datenmanagement und deskriptive Statistik</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="sec-pot" class="level1">
<h1>Beispieldatensatz potato.xlsx</h1>
<p>Diese Daten sind die leicht modifizierten und erweiterten <code>greenhouse</code>-Daten aus dem R-Paket <code>agricolae</code>.</p>
<p>In einem Versuch wurden verschiedene Kartoffelsorten (<code>variety</code>) in verschiedenen Anbaumethoden (<code>method</code>) kultiviert und die Anzahl Knollen (<code>tubers</code>), deren Gewicht (<code>weight</code>) und der Krankheitsbefall (<code>infection</code> 1=ja, 0=nein) ermittelt.</p>
<p>Zunächst lesen wir den Datensatz <code>potato.xlsx</code> mit der Funktion <code>read.xlsx</code> aus der <code>library(openxlsx)</code> ein und benennen den <code>data.frame</code> mit <code>pot</code> und machen uns mit ihm vertraut.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>pot<span class="ot">&lt;-</span><span class="fu">read.xlsx</span>(<span class="st">"potato.xlsx"</span>, <span class="at">sheet=</span><span class="dv">1</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   478 obs. of  6 variables:
 $ variety  : chr  "Unica" "Unica" "Unica" "Unica" ...
 $ method   : chr  "pot" "pot" "pot" "pot" ...
 $ plant    : num  1 2 3 4 5 6 7 8 9 10 ...
 $ tubers   : num  9 3 4 4 2 2 3 6 9 6 ...
 $ weight   : num  209.9 248.4 53.6 77.2 11.3 ...
 $ infection: num  0 0 0 0 1 0 0 0 0 0 ...</code></pre>
</div>
</div>
<p>Der Datensatz hat 478 Zeilen (Beobachtungen) und 6 Spalten.</p>
<p><code>variety</code> und<code>method</code> sind als <em>character</em> eingelesen.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pot<span class="sc">$</span>variety)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Unica"     "Mariva"    "Costanera"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(pot<span class="sc">$</span>method)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "pot"        "bed"        "hydroponic" "aeroponic" </code></pre>
</div>
</div>
<p>Diese können wir auch in Faktoren umwandeln (siehe <a href="#sec-mutate">Section&nbsp;2.2.3.1</a>). Alle anderen Variablen sind numerisch.</p>
</section>
<section id="datenmanagement-mit-dplyr" class="level1">
<h1>Datenmanagement mit dplyr</h1>
<p>Eine gute Hilfestellung für <code>dplyr</code> findet ihr unter:<br>
<a href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html" target="_blank">https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html</a></p>
<p>Wir laden zunächst das Paket <code>dplyr</code> ein.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that there are five types of callouts, including: <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code>, and <code>important</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that there are five types of callouts, including: <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code>, and <code>important</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that there are five types of callouts, including: <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code>, and <code>important</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that there are five types of callouts, including: <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code>, and <code>important</code>.</p>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that there are five types of callouts, including: <code>note</code>, <code>tip</code>, <code>warning</code>, <code>caution</code>, and <code>important</code>.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Um den Output der folgenden Beispiele übersichtlicher zu gestalten, erstelle ich ein Subset aus dem Datensatz <code>pot</code>, der nur 24 Beobachtungen enthält (zwei Beobachtungen für jede Kombination aus Sorte und Methode).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>pot.sub<span class="ot">=</span>pot<span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(variety, method) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">2</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pot.sub, <span class="at">n=</span><span class="dv">24</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 6
# Groups:   variety, method [12]
   variety   method     plant tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic      1      5  24.1          0
 2 Costanera aeroponic      5      7  42            0
 3 Costanera bed            4      7 137.           1
 4 Costanera bed            3      5  78            1
 5 Costanera hydroponic     8      6  31.8          1
 6 Costanera hydroponic     4      5  42            1
 7 Costanera pot            5      3 110.           0
 8 Costanera pot            6      7 139.           0
 9 Mariva    aeroponic      7      6  99.2          0
10 Mariva    aeroponic      5      5  72.6          0
11 Mariva    bed            7      5  59.9          0
12 Mariva    bed            8      5  77.3          0
13 Mariva    hydroponic     9      2  10.8          0
14 Mariva    hydroponic     9      1   7.85         0
15 Mariva    pot            5      7 104.           0
16 Mariva    pot            8      5  64.8          0
17 Unica     aeroponic      6      2 112.           0
18 Unica     aeroponic      7      4  50.1          0
19 Unica     bed            9      4 124.           0
20 Unica     bed            9      3  38            0
21 Unica     hydroponic     6      2  17.1          0
22 Unica     hydroponic     4      2  21.8          0
23 Unica     pot            7      4  50.4          0
24 Unica     pot            9      5  97.7          1</code></pre>
</div>
</div>
<section id="zeilen" class="level2">
<h2 class="anchored" data-anchor-id="zeilen">Zeilen</h2>
<p>Wir lernen nun Funtionen aus dem paket <code>dplyr</code> kennen, mit denen wir Beobachtungen, d.h. Zeilen unseres Datensatzes, auswählen oder umsortieren können.</p>
<section id="filter" class="level3">
<h3 class="anchored" data-anchor-id="filter">filter</h3>
<p>Mit der Funktion <code>filter</code> können wir ein Subset des Datensatzes erstellen. <code>pot.M</code> enthält mit folgendem Code nur noch Beobachtungen der Sorte <code>Mariva</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>pot.M<span class="ot">&lt;-</span> pot.sub <span class="sc">%&gt;%</span> <span class="fu">filter</span>(variety<span class="sc">==</span><span class="st">"Mariva"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>pot.M</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 x 6
# Groups:   variety, method [4]
  variety method     plant tubers weight infection
  &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
1 Mariva  aeroponic      7      6  99.2          0
2 Mariva  aeroponic      5      5  72.6          0
3 Mariva  bed            7      5  59.9          0
4 Mariva  bed            8      5  77.3          0
5 Mariva  hydroponic     9      2  10.8          0
6 Mariva  hydroponic     9      1   7.85         0
7 Mariva  pot            5      7 104.           0
8 Mariva  pot            8      5  64.8          0</code></pre>
</div>
</div>
<p><code>pot.BM</code> enthält mit folgendem Code nur noch Beobachtungen der Sorte <code>Mariva</code> und Methode <code>bed</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>pot.MB<span class="ot">&lt;-</span> pot.sub <span class="sc">%&gt;%</span> <span class="fu">filter</span>(variety<span class="sc">==</span><span class="st">"Mariva"</span>, method<span class="sc">==</span><span class="st">"bed"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>pot.MB  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 6
# Groups:   variety, method [1]
  variety method plant tubers weight infection
  &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
1 Mariva  bed        7      5   59.9         0
2 Mariva  bed        8      5   77.3         0</code></pre>
</div>
</div>
<p>Mehrere Ausprägungen einer Variable können mit <code>%in%</code> ausgewählt werden: <code>pot.MU</code> enthält mit folgendem Code nur noch Beobachtungen der Sorten <code>Mariva</code> und <code>Unica</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>pot.MU<span class="ot">&lt;-</span> pot.sub <span class="sc">%&gt;%</span> <span class="fu">filter</span>(variety<span class="sc">%in%</span><span class="fu">c</span>(<span class="st">"Mariva"</span>, <span class="st">"Unica"</span>))</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>pot.MU</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 x 6
# Groups:   variety, method [8]
   variety method     plant tubers weight infection
   &lt;chr&gt;   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Mariva  aeroponic      7      6  99.2          0
 2 Mariva  aeroponic      5      5  72.6          0
 3 Mariva  bed            7      5  59.9          0
 4 Mariva  bed            8      5  77.3          0
 5 Mariva  hydroponic     9      2  10.8          0
 6 Mariva  hydroponic     9      1   7.85         0
 7 Mariva  pot            5      7 104.           0
 8 Mariva  pot            8      5  64.8          0
 9 Unica   aeroponic      6      2 112.           0
10 Unica   aeroponic      7      4  50.1          0
11 Unica   bed            9      4 124.           0
12 Unica   bed            9      3  38            0
13 Unica   hydroponic     6      2  17.1          0
14 Unica   hydroponic     4      2  21.8          0
15 Unica   pot            7      4  50.4          0
16 Unica   pot            9      5  97.7          1</code></pre>
</div>
</div>
<p>Alternativ können alle Beobachtungen bis auf Sorte <code>Mariva</code> selektiert werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>pot.oM<span class="ot">&lt;-</span> pot.sub <span class="sc">%&gt;%</span> <span class="fu">filter</span>(variety<span class="sc">!=</span>(<span class="st">"Mariva"</span>))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>pot.oM </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 x 6
# Groups:   variety, method [8]
   variety   method     plant tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic      1      5   24.1         0
 2 Costanera aeroponic      5      7   42           0
 3 Costanera bed            4      7  137.          1
 4 Costanera bed            3      5   78           1
 5 Costanera hydroponic     8      6   31.8         1
 6 Costanera hydroponic     4      5   42           1
 7 Costanera pot            5      3  110.          0
 8 Costanera pot            6      7  139.          0
 9 Unica     aeroponic      6      2  112.          0
10 Unica     aeroponic      7      4   50.1         0
11 Unica     bed            9      4  124.          0
12 Unica     bed            9      3   38           0
13 Unica     hydroponic     6      2   17.1         0
14 Unica     hydroponic     4      2   21.8         0
15 Unica     pot            7      4   50.4         0
16 Unica     pot            9      5   97.7         1</code></pre>
</div>
</div>
<p>Hier werden alle Beobachtungen mit größer gleich 5 Knollen selektiert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>pot.T5 <span class="ot">&lt;-</span>pot.sub <span class="sc">%&gt;%</span> <span class="fu">filter</span>(tubers<span class="sc">&gt;=</span><span class="dv">5</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>pot.T5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 x 6
# Groups:   variety, method [8]
   variety   method     plant tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic      1      5   24.1         0
 2 Costanera aeroponic      5      7   42           0
 3 Costanera bed            4      7  137.          1
 4 Costanera bed            3      5   78           1
 5 Costanera hydroponic     8      6   31.8         1
 6 Costanera hydroponic     4      5   42           1
 7 Costanera pot            6      7  139.          0
 8 Mariva    aeroponic      7      6   99.2         0
 9 Mariva    aeroponic      5      5   72.6         0
10 Mariva    bed            7      5   59.9         0
11 Mariva    bed            8      5   77.3         0
12 Mariva    pot            5      7  104.          0
13 Mariva    pot            8      5   64.8         0
14 Unica     pot            9      5   97.7         1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>pot.T5<span class="sc">$</span>tubers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 5 7 7 5 6 5 7 6 5 5 5 7 5 5</code></pre>
</div>
</div>
<p>Hier werden alle Beobachtungen mit mehr als 5 Knollen selektiert.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>pot.T5 <span class="ot">&lt;-</span>pot.sub <span class="sc">%&gt;%</span> <span class="fu">filter</span>(tubers<span class="sc">&gt;</span><span class="dv">5</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>pot.T5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 6
# Groups:   variety, method [6]
  variety   method     plant tubers weight infection
  &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
1 Costanera aeroponic      5      7   42           0
2 Costanera bed            4      7  137.          1
3 Costanera hydroponic     8      6   31.8         1
4 Costanera pot            6      7  139.          0
5 Mariva    aeroponic      7      6   99.2         0
6 Mariva    pot            5      7  104.          0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>pot.T5<span class="sc">$</span>tubers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7 7 6 7 6 7</code></pre>
</div>
</div>
<p>zwei Bedingungen (Anzahl Knollen und Gewicht)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> <span class="fu">filter</span>(tubers<span class="sc">&gt;=</span><span class="dv">5</span>, weight <span class="sc">&gt;</span> <span class="dv">80</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 6
# Groups:   variety, method [5]
  variety   method    plant tubers weight infection
  &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
1 Costanera bed           4      7  137.          1
2 Costanera pot           6      7  139.          0
3 Mariva    aeroponic     7      6   99.2         0
4 Mariva    pot           5      7  104.          0
5 Unica     pot           9      5   97.7         1</code></pre>
</div>
</div>
</section>
<section id="arrange" class="level3">
<h3 class="anchored" data-anchor-id="arrange">arrange</h3>
<p>Mit der Funktion <code>arrange</code> sortieren wir die Daten. Hier nach Anzahl <code>tubers</code> in aufsteigender Reihenfolge.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 6
# Groups:   variety, method [12]
   variety   method     plant tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Mariva    hydroponic     9      1   7.85         0
 2 Mariva    hydroponic     9      2  10.8          0
 3 Unica     aeroponic      6      2 112.           0
 4 Unica     hydroponic     6      2  17.1          0
 5 Unica     hydroponic     4      2  21.8          0
 6 Costanera pot            5      3 110.           0
 7 Unica     bed            9      3  38            0
 8 Unica     aeroponic      7      4  50.1          0
 9 Unica     bed            9      4 124.           0
10 Unica     pot            7      4  50.4          0
# i 14 more rows</code></pre>
</div>
</div>
<p>und hier in absteigender Reihenfolge durch Funktion <code>desc()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(tubers))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 6
# Groups:   variety, method [12]
   variety   method     plant tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic      5      7   42           0
 2 Costanera bed            4      7  137.          1
 3 Costanera pot            6      7  139.          0
 4 Mariva    pot            5      7  104.          0
 5 Costanera hydroponic     8      6   31.8         1
 6 Mariva    aeroponic      7      6   99.2         0
 7 Costanera aeroponic      1      5   24.1         0
 8 Costanera bed            3      5   78           1
 9 Costanera hydroponic     4      5   42           1
10 Mariva    aeroponic      5      5   72.6         0
# i 14 more rows</code></pre>
</div>
</div>
<p>und hier für zwei Kriterien (wobei letzteres Kriterium nur bei gleichen Werten in erstem Kriterium sortiert wird)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(tubers),<span class="fu">desc</span>(weight))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 6
# Groups:   variety, method [12]
   variety   method     plant tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera pot            6      7  139.          0
 2 Costanera bed            4      7  137.          1
 3 Mariva    pot            5      7  104.          0
 4 Costanera aeroponic      5      7   42           0
 5 Mariva    aeroponic      7      6   99.2         0
 6 Costanera hydroponic     8      6   31.8         1
 7 Unica     pot            9      5   97.7         1
 8 Costanera bed            3      5   78           1
 9 Mariva    bed            8      5   77.3         0
10 Mariva    aeroponic      5      5   72.6         0
# i 14 more rows</code></pre>
</div>
</div>
</section>
<section id="slice" class="level3">
<h3 class="anchored" data-anchor-id="slice">slice</h3>
<p>Mit der Funktion <code>slice</code> selektieren wir die Zeilen. Hier Zeile 5 bis 10 im Datensatz <code>pot</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">5</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  variety method plant tubers weight infection
1   Unica    pot     5      2   11.3         1
2   Unica    pot     6      2   17.8         0
3   Unica    pot     7      3   28.1         0
4   Unica    pot     8      6   33.0         0
5   Unica    pot     9      9   81.5         0
6   Unica    pot    10      6   71.1         0</code></pre>
</div>
</div>
<p>Die Funktion <code>slice_head(n=3)</code> zeigt die ersten drei Zeilen des Datensatzes an.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">slice_head</span>(<span class="at">n=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  variety method plant tubers weight infection
1   Unica    pot     1      9  209.9         0
2   Unica    pot     2      3  248.4         0
3   Unica    pot     3      4   53.6         0</code></pre>
</div>
</div>
<p>Die Funktion <code>slice_tail(n=3)</code> zeigt die letzten drei Zeilen des Datensatzes an.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">slice_tail</span>(<span class="at">n=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    variety    method plant tubers weight infection
1 Costanera aeroponic     8      6   29.1         1
2 Costanera aeroponic     9      4   17.6         0
3 Costanera aeroponic    10      7   36.9         0</code></pre>
</div>
</div>
<p>Alternativ könnte man auch die Funtionen <code>head(pot)</code> und <code>tail(pot)</code> nutzen.</p>
<p>Die Funktion <code>slice_sample(n=3)</code> wählt zufällig drei Beobachtungen aus.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">slice_sample</span>(<span class="at">n=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    variety     method plant tubers weight infection
1     Unica        bed     3      2   18.2         1
2 Costanera        bed     2      4  118.5         1
3     Unica hydroponic     3      2   58.7         0</code></pre>
</div>
</div>
<p>Wenn man immer das gleiche Set an Proben zufällig auswählen möchte, d.h. ein reproduzierbares Ergebnis erzielen möchte, dann setzt man vorher den <code>seed</code>. Die Zahl (hier 123) kann beliebig gewählt werden.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">slice_sample</span>(<span class="at">n=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    variety     method plant tubers weight infection
1    Mariva        bed     5      3   37.8         1
2 Costanera hydroponic     3      7   18.6         1
3    Mariva        bed     9      6   99.4         0</code></pre>
</div>
</div>
<p>Die Funktion <code>slice_max(n=3)</code> wählt die drei Beobachtungen mit dem höchsten Gewicht aus.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(weight, <span class="at">n=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  variety    method plant tubers weight infection
1  Mariva aeroponic     6     13  323.3         0
2   Unica aeroponic     9      5  265.4         0
3   Unica       pot     2      3  248.4         0</code></pre>
</div>
</div>
</section>
</section>
<section id="spalten" class="level2">
<h2 class="anchored" data-anchor-id="spalten">Spalten</h2>
<p>Häufig arbeitet man mit großen Datensätzen und vielen Variablen.</p>
<section id="select" class="level3">
<h3 class="anchored" data-anchor-id="select">select</h3>
<p>Mit der Funktion <code>select</code> kann man Variablen auswählen, indem ich sie durch Komme getrennt aufliste:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> <span class="fu">select</span>(variety, method, tubers, weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 4
# Groups:   variety, method [12]
   variety   method     tubers weight
   &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;
 1 Costanera aeroponic       5   24.1
 2 Costanera aeroponic       7   42  
 3 Costanera bed             7  137. 
 4 Costanera bed             5   78  
 5 Costanera hydroponic      6   31.8
 6 Costanera hydroponic      5   42  
 7 Costanera pot             3  110. 
 8 Costanera pot             7  139. 
 9 Mariva    aeroponic       6   99.2
10 Mariva    aeroponic       5   72.6
# i 14 more rows</code></pre>
</div>
</div>
<p>oder von <code>variety</code> bis <code>weight</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> <span class="fu">select</span>(variety<span class="sc">:</span>weight)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 5
# Groups:   variety, method [12]
   variety   method     plant tubers weight
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 Costanera aeroponic      1      5   24.1
 2 Costanera aeroponic      5      7   42  
 3 Costanera bed            4      7  137. 
 4 Costanera bed            3      5   78  
 5 Costanera hydroponic     8      6   31.8
 6 Costanera hydroponic     4      5   42  
 7 Costanera pot            5      3  110. 
 8 Costanera pot            6      7  139. 
 9 Mariva    aeroponic      7      6   99.2
10 Mariva    aeroponic      5      5   72.6
# i 14 more rows</code></pre>
</div>
</div>
<p>wie oben nur ohne <code>plant</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(variety<span class="sc">:</span>weight)<span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>plant)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 4
# Groups:   variety, method [12]
   variety   method     tubers weight
   &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;
 1 Costanera aeroponic       5   24.1
 2 Costanera aeroponic       7   42  
 3 Costanera bed             7  137. 
 4 Costanera bed             5   78  
 5 Costanera hydroponic      6   31.8
 6 Costanera hydroponic      5   42  
 7 Costanera pot             3  110. 
 8 Costanera pot             7  139. 
 9 Mariva    aeroponic       6   99.2
10 Mariva    aeroponic       5   72.6
# i 14 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">".f"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n=</span><span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dataframe mit 0 Spalten und 8 Zeilen</code></pre>
</div>
</div>
</section>
<section id="rename" class="level3">
<h3 class="anchored" data-anchor-id="rename">rename</h3>
<p>Variablen können umbenannt werden durch die Funktion <code>rename()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">plant_ID=</span>plant)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 6
# Groups:   variety, method [12]
   variety   method     plant_ID tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic         1      5   24.1         0
 2 Costanera aeroponic         5      7   42           0
 3 Costanera bed               4      7  137.          1
 4 Costanera bed               3      5   78           1
 5 Costanera hydroponic        8      6   31.8         1
 6 Costanera hydroponic        4      5   42           1
 7 Costanera pot               5      3  110.          0
 8 Costanera pot               6      7  139.          0
 9 Mariva    aeroponic         7      6   99.2         0
10 Mariva    aeroponic         5      5   72.6         0
# i 14 more rows</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>pot.sub</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 6
# Groups:   variety, method [12]
   variety   method     plant tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic      1      5   24.1         0
 2 Costanera aeroponic      5      7   42           0
 3 Costanera bed            4      7  137.          1
 4 Costanera bed            3      5   78           1
 5 Costanera hydroponic     8      6   31.8         1
 6 Costanera hydroponic     4      5   42           1
 7 Costanera pot            5      3  110.          0
 8 Costanera pot            6      7  139.          0
 9 Mariva    aeroponic      7      6   99.2         0
10 Mariva    aeroponic      5      5   72.6         0
# i 14 more rows</code></pre>
</div>
</div>
<p>Auch hire müssen wir die Daten in einem neuen <code>data.frame pot.sub1</code> speichern oder überschreiben (<code>pot.sub=pot.sub %&gt;% rename(plant_ID=plant)</code>), um auf die neue Variable zugreifen zu können.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>pot.sub1<span class="ot">=</span>pot.sub <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">plant_ID=</span>plant)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>pot.sub1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 6
# Groups:   variety, method [12]
   variety   method     plant_ID tubers weight infection
   &lt;chr&gt;     &lt;chr&gt;         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic         1      5   24.1         0
 2 Costanera aeroponic         5      7   42           0
 3 Costanera bed               4      7  137.          1
 4 Costanera bed               3      5   78           1
 5 Costanera hydroponic        8      6   31.8         1
 6 Costanera hydroponic        4      5   42           1
 7 Costanera pot               5      3  110.          0
 8 Costanera pot               6      7  139.          0
 9 Mariva    aeroponic         7      6   99.2         0
10 Mariva    aeroponic         5      5   72.6         0
# i 14 more rows</code></pre>
</div>
</div>
</section>
<section id="mutate" class="level3">
<h3 class="anchored" data-anchor-id="mutate">mutate</h3>
<p>Eine neue Variable kann durch die Funktion <code>mutate</code> berechnet und eingefügt werden.</p>
<p>Beispielsweise könnten wir das Gewicht in kg statt g angeben. Es wird eine neue Variable erzeugt <code>weight_kg</code> indem <code>weight</code> durch 1000 geteilt wird.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>pot.sub <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight_kg=</span>weight<span class="sc">/</span><span class="dv">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 7
# Groups:   variety, method [12]
   variety   method     plant tubers weight infection weight_kg
   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic      1      5   24.1         0    0.0241
 2 Costanera aeroponic      5      7   42           0    0.042 
 3 Costanera bed            4      7  137.          1    0.137 
 4 Costanera bed            3      5   78           1    0.078 
 5 Costanera hydroponic     8      6   31.8         1    0.0318
 6 Costanera hydroponic     4      5   42           1    0.042 
 7 Costanera pot            5      3  110.          0    0.110 
 8 Costanera pot            6      7  139.          0    0.139 
 9 Mariva    aeroponic      7      6   99.2         0    0.0992
10 Mariva    aeroponic      5      5   72.6         0    0.0726
# i 14 more rows</code></pre>
</div>
</div>
<p>Damit diese neue Variable im Datensatz nicht nur erscheint, sondern auch zugreifbar ist, speichere ich den Datensatz unter einem neuen Namen ab. Man könnte ihn auch überschreiben. Ausserdem noch zwei Beispiele für eine log- und Wurzel-Transformation</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>pot.sub1<span class="ot">=</span>pot.sub <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight_kg=</span>weight<span class="sc">/</span><span class="dv">1000</span>,</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight.sqrt=</span><span class="fu">sqrt</span>(weight),</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight.l=</span><span class="fu">log</span>(weight),</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">tubers.l=</span><span class="fu">log</span>(tubers))</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>pot.sub1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 x 10
# Groups:   variety, method [12]
   variety   method plant tubers weight infection weight_kg weight.sqrt weight.l
   &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;
 1 Costanera aerop~     1      5   24.1         0    0.0241        4.91     3.18
 2 Costanera aerop~     5      7   42           0    0.042         6.48     3.74
 3 Costanera bed        4      7  137.          1    0.137        11.7      4.92
 4 Costanera bed        3      5   78           1    0.078         8.83     4.36
 5 Costanera hydro~     8      6   31.8         1    0.0318        5.64     3.46
 6 Costanera hydro~     4      5   42           1    0.042         6.48     3.74
 7 Costanera pot        5      3  110.          0    0.110        10.5      4.70
 8 Costanera pot        6      7  139.          0    0.139        11.8      4.93
 9 Mariva    aerop~     7      6   99.2         0    0.0992        9.96     4.60
10 Mariva    aerop~     5      5   72.6         0    0.0726        8.52     4.28
# i 14 more rows
# i 1 more variable: tubers.l &lt;dbl&gt;</code></pre>
</div>
</div>
<section id="sec-mutate" class="level4">
<h4 class="anchored" data-anchor-id="sec-mutate">Character Variable in Faktor umwandeln</h4>
<p>Beim Importieren von Daten werden Variablen häufig als <code>character</code> eingelesen (oder als <code>numeric</code>), die für die spätere Analyse aber als Faktor benötigt werden. Wir können diese Variablen in Faktoren umwandeln, können diese überschreiben oder (wie unten gezeigt) geben ihnen einen neuen Namen mit dem Appendix “.f”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>pot<span class="ot">=</span>pot <span class="sc">%&gt;%</span> </span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">variety.f=</span><span class="fu">as.factor</span>(variety),</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">method.f=</span><span class="fu">as.factor</span>(method),</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">infection.f=</span><span class="fu">as.factor</span>(infection))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>alternativer Code zu oben:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>pot<span class="sc">$</span>variety.f<span class="ot">=</span><span class="fu">as.factor</span>(pot<span class="sc">$</span>variety)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>pot<span class="sc">$</span>method.f<span class="ot">=</span><span class="fu">as.factor</span>(pot<span class="sc">$</span>method)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>pot<span class="sc">$</span>infection.f<span class="ot">=</span><span class="fu">as.factor</span>(pot<span class="sc">$</span>infection)</span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Mit <code>across(where(is.character),as.factor)</code> werden alle Variablen, die als Charakter eingelesen sind, in einen Faktor umgewandelt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>pot2<span class="ot">&lt;-</span><span class="fu">read.xlsx</span>(<span class="st">"potato.xlsx"</span>, <span class="at">sheet=</span><span class="dv">1</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   478 obs. of  6 variables:
 $ variety  : chr  "Unica" "Unica" "Unica" "Unica" ...
 $ method   : chr  "pot" "pot" "pot" "pot" ...
 $ plant    : num  1 2 3 4 5 6 7 8 9 10 ...
 $ tubers   : num  9 3 4 4 2 2 3 6 9 6 ...
 $ weight   : num  209.9 248.4 53.6 77.2 11.3 ...
 $ infection: num  0 0 0 0 1 0 0 0 0 0 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>pot3<span class="ot">&lt;-</span> pot2 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character),as.factor))</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pot3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   478 obs. of  6 variables:
 $ variety  : Factor w/ 3 levels "Costanera","Mariva",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ method   : Factor w/ 4 levels "aeroponic","bed",..: 4 4 4 4 4 4 4 4 4 4 ...
 $ plant    : num  1 2 3 4 5 6 7 8 9 10 ...
 $ tubers   : num  9 3 4 4 2 2 3 6 9 6 ...
 $ weight   : num  209.9 248.4 53.6 77.2 11.3 ...
 $ infection: num  0 0 0 0 1 0 0 0 0 0 ...</code></pre>
</div>
</div>
<p>Bitte beachten, dass <code>infection</code> damit nicht als Faktor umgewandelt wird, da es als numerische Variable eingelesen wurde. Wir müssen also immer nochmal die Struktur überprüfen und ggfls. nachjustieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>pot4<span class="ot">&lt;-</span> pot2 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.character),as.factor),</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">infection=</span><span class="fu">as.factor</span>(infection))</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(pot4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   478 obs. of  6 variables:
 $ variety  : Factor w/ 3 levels "Costanera","Mariva",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ method   : Factor w/ 4 levels "aeroponic","bed",..: 4 4 4 4 4 4 4 4 4 4 ...
 $ plant    : num  1 2 3 4 5 6 7 8 9 10 ...
 $ tubers   : num  9 3 4 4 2 2 3 6 9 6 ...
 $ weight   : num  209.9 248.4 53.6 77.2 11.3 ...
 $ infection: Factor w/ 2 levels "0","1": 1 1 1 1 2 1 1 1 1 1 ...</code></pre>
</div>
</div>
<p>Der große Vorteil von <code>dplyr</code> ist, dass ihr alle Schritte in einen Code schreiben und damit ihn gut nachvollziehen könnt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>pot1<span class="ot">=</span>pot<span class="sc">%&gt;%</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(variety<span class="sc">==</span><span class="fu">c</span>(<span class="st">"Mariva"</span>, <span class="st">"Costanera"</span>), tubers<span class="sc">&gt;</span><span class="dv">7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight_kg=</span>weight<span class="sc">/</span><span class="dv">1000</span>, </span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">variety.f=</span><span class="fu">as.factor</span>(variety),</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">method.f=</span><span class="fu">as.factor</span>(method),</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">infection.f=</span><span class="fu">as.factor</span>(infection)) <span class="sc">%&gt;%</span> </span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(plant,infection, weight))</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>pot1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     variety     method tubers variety.f   method.f infection.f weight_kg
1     Mariva        bed      9    Mariva        bed           0    0.2274
2     Mariva        bed     10    Mariva        bed           0    0.0338
3     Mariva        bed      8    Mariva        bed           0    0.0948
4  Costanera        pot      8 Costanera        pot           1    0.1624
5  Costanera hydroponic      8 Costanera hydroponic           1    0.0486
6  Costanera  aeroponic      9 Costanera  aeroponic           0    0.0781
7     Mariva        pot     10    Mariva        pot           0    0.0773
8     Mariva  aeroponic      8    Mariva  aeroponic           1    0.1205
9  Costanera        pot      8 Costanera        pot           0    0.1449
10 Costanera        pot      9 Costanera        pot           0    0.1391
11    Mariva        bed     11    Mariva        bed           0    0.1182
12    Mariva        bed      8    Mariva        bed           1    0.1250
13    Mariva  aeroponic     10    Mariva  aeroponic           0    0.1883
14    Mariva  aeroponic      8    Mariva  aeroponic           0    0.1656
15    Mariva        pot     10    Mariva        pot           0    0.0644
16    Mariva        bed     10    Mariva        bed           1    0.1069
17    Mariva        bed      8    Mariva        bed           1    0.1332
18    Mariva        bed     10    Mariva        bed           0    0.1183
19    Mariva  aeroponic      9    Mariva  aeroponic           0    0.0759
20    Mariva  aeroponic      8    Mariva  aeroponic           0    0.1684
21 Costanera        pot      8 Costanera        pot           0    0.1531
22 Costanera        bed      8 Costanera        bed           1    0.0494
23 Costanera hydroponic      8 Costanera hydroponic           1    0.0253</code></pre>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="deskriptive-statistik" class="level1">
<h1>Deskriptive Statistik</h1>
<ul>
<li>Wir unterscheiden zwischen qualitativen (kategorialen) und quantitativen (numerischen) Daten.</li>
<li>Qualitative Daten können weiter differenziert werden in
<ul>
<li>nominale Daten (ohne Rangordnung), z.B. Geschlecht (m, w), Blutgruppe, Sorte und Augenfarbe</li>
<li>ordinale Daten (mit Rangordnung), z.B. Eignung (gut, mittel, schlecht), Platzierung bei einem Rennen, Boniturnoten</li>
</ul></li>
<li>Quantitative Daten können weiter unterschieden werden in
<ul>
<li>diskrete (ganzzahlig) Daten, z.B. Anzahl Blattläuse, Anzahl Nachkommen</li>
<li>stetige Daten, z.B. Ertrag, pH-Wert, Körpergröße, Parasitierungsrate</li>
</ul></li>
</ul>
<section id="qualitative-daten" class="level2">
<h2 class="anchored" data-anchor-id="qualitative-daten">Qualitative Daten</h2>
<p>Qualitative Variablen sind in unserem Beispiel die Sorte, der Krankheitsbefall und die Methode. Diese Daten beschreiben wir durch <em>Häufigkeitstabellen (Kontingenztabellen)</em>, die angeben, wie häufig eine Merkmalsausprägung bzw. -kombination in unserem Datensatz vorkommt. Wir nutzen die Funktion <code>count()</code>aus dem Package <code>dplyr</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">count</span>(variety)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    variety   n
1 Costanera 158
2    Mariva 160
3     Unica 160</code></pre>
</div>
</div>
<p>oder die Funktion <code>table()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(pot<span class="sc">$</span>variety) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Costanera    Mariva     Unica 
      158       160       160 </code></pre>
</div>
</div>
<p>Die Funktion <code>prop.table()</code> berechnet uns die relativen Anteile jeder Merkmalsausprägung bzw. -kombination.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">count</span>(variety) <span class="sc">%&gt;%</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">prop.table</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    variety   n      prop
1 Costanera 158 0.3305439
2    Mariva 160 0.3347280
3     Unica 160 0.3347280</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(pot<span class="sc">$</span>variety)) <span class="co"># relativ, i.e. Anteil der Beobachtungen an der Gesamtzahl der Beobachtungen </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Costanera    Mariva     Unica 
0.3305439 0.3347280 0.3347280 </code></pre>
</div>
</div>
<p>Häufigkeitstabellen können für 2 Kombinationen (Merkmale) erstellt werden, indem man beide Variablen in der Funktion <code>count()</code> oder <code>table()</code> angibt.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">count</span>(variety, infection) <span class="sc">%&gt;%</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">prop.table</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    variety infection   n       prop
1 Costanera         0  77 0.16108787
2 Costanera         1  81 0.16945607
3    Mariva         0 119 0.24895397
4    Mariva         1  41 0.08577406
5     Unica         0 122 0.25523013
6     Unica         1  38 0.07949791</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(pot<span class="sc">$</span>variety, pot<span class="sc">$</span>infection)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           
              0   1
  Costanera  77  81
  Mariva    119  41
  Unica     122  38</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(pot<span class="sc">$</span>variety, pot<span class="sc">$</span>infection)) <span class="co"># relative Häufigkeit</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           
                     0          1
  Costanera 0.16108787 0.16945607
  Mariva    0.24895397 0.08577406
  Unica     0.25523013 0.07949791</code></pre>
</div>
</div>
<p>Häufigkeitstabelle für 3 Kombinationen</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">count</span>(variety, method, infection) <span class="sc">%&gt;%</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prop =</span> <span class="fu">prop.table</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     variety     method infection  n       prop
1  Costanera  aeroponic         0 28 0.05857741
2  Costanera  aeroponic         1 12 0.02510460
3  Costanera        bed         0  9 0.01882845
4  Costanera        bed         1 31 0.06485356
5  Costanera hydroponic         0 11 0.02301255
6  Costanera hydroponic         1 27 0.05648536
7  Costanera        pot         0 29 0.06066946
8  Costanera        pot         1 11 0.02301255
9     Mariva  aeroponic         0 27 0.05648536
10    Mariva  aeroponic         1 13 0.02719665
11    Mariva        bed         0 29 0.06066946
12    Mariva        bed         1 11 0.02301255
13    Mariva hydroponic         0 31 0.06485356
14    Mariva hydroponic         1  9 0.01882845
15    Mariva        pot         0 32 0.06694561
16    Mariva        pot         1  8 0.01673640
17     Unica  aeroponic         0 30 0.06276151
18     Unica  aeroponic         1 10 0.02092050
19     Unica        bed         0 31 0.06485356
20     Unica        bed         1  9 0.01882845
21     Unica hydroponic         0 32 0.06694561
22     Unica hydroponic         1  8 0.01673640
23     Unica        pot         0 29 0.06066946
24     Unica        pot         1 11 0.02301255</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(pot<span class="sc">$</span>variety, pot<span class="sc">$</span>method, pot<span class="sc">$</span>infection)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>, ,  = 0

           
            aeroponic bed hydroponic pot
  Costanera        28   9         11  29
  Mariva           27  29         31  32
  Unica            30  31         32  29

, ,  = 1

           
            aeroponic bed hydroponic pot
  Costanera        12  31         27  11
  Mariva           13  11          9   8
  Unica            10   9          8  11</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ftable</span>(pot<span class="sc">$</span>variety, pot<span class="sc">$</span>method, pot<span class="sc">$</span>infection)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       0  1
                           
Costanera aeroponic   28 12
          bed          9 31
          hydroponic  11 27
          pot         29 11
Mariva    aeroponic   27 13
          bed         29 11
          hydroponic  31  9
          pot         32  8
Unica     aeroponic   30 10
          bed         31  9
          hydroponic  32  8
          pot         29 11</code></pre>
</div>
</div>
</section>
<section id="quantitative-daten" class="level2">
<h2 class="anchored" data-anchor-id="quantitative-daten">Quantitative Daten</h2>
<ul>
<li>Arithmetischer Mittelwert <code>mean()</code></li>
<li>Median <code>median()</code>: Wert, der an der mittleren (zentralen) Stelle steht, wenn man die Werte der Größe nach sortiert</li>
<li>Median besser als arithmetischer Mittelwert bei:
<ul>
<li>ordinalskalierten Beobachtungen</li>
<li>geringem Stichprobenumfang</li>
<li>asymmetrischen Verteilungen</li>
<li>Verdacht auf Ausreißer</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> </span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">tubers_avg=</span><span class="fu">mean</span>(tubers))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  tubers_avg
1   4.721757</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> </span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">tubers_avg=</span><span class="fu">mean</span>(tubers),</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_med=</span><span class="fu">median</span>(tubers))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  tubers_avg tubers_med
1   4.721757          4</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.721757</code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>Maße für die Streuung der Daten:</p>
<ul>
<li>Varianz <code>var()</code></li>
<li>Standardabweichung <code>sd()</code></li>
<li>Standardabweichung in gleicher Einheit wie Mittelwert</li>
<li>Wenn Mittelwert und Standardabweichung einer normalverteilten Grundgesamtheit bekannt ist, kann die Wahrscheinlichkeit berechnet werden, mit der ein Wert auftritt.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">tubers_avg=</span><span class="fu">mean</span>(tubers),</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_med=</span><span class="fu">median</span>(tubers),</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_var=</span><span class="fu">var</span>(tubers),</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_sd=</span><span class="fu">sd</span>(tubers))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  tubers_avg tubers_med tubers_var tubers_sd
1   4.721757          4   5.190763  2.278324</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.190763</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.278324</code></pre>
</div>
</div>
<p>Der Standardfehler des Mittelwertes (sem) beschreibt die Genauigkeit der Berechnung des Stichproben-Mittelwertes.</p>
<ul>
<li>sem = sd/sqrt(n)</li>
<li><code>std &lt;- function(x) {sd(x, na.rm=TRUE)/sqrt(length(na.omit(x)))}</code></li>
<li>kein Streuungsmaß der Stichprobe</li>
<li>je mehr Datenpunkte, desto genauer die Schätzung des Mittelwertes</li>
<li>Mittelwert ± 1 sem beschreibt den Wertebereich, in dem wir mit 68%iger Wahrscheinlichkeit den wahren Mittelwert erwarten</li>
<li>Mittelwert ± 1,96 sem 95% Wahrscheinlichkeit i.e.&nbsp;Konfidenzintervall</li>
<li>Mittelwert ± 2 sem 95,5%</li>
<li>Mittelwert ± 3 sem 99,7%</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Funktion für den Standardfehler</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>std <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {<span class="fu">sd</span>(x, <span class="at">na.rm=</span><span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">sqrt</span>(<span class="fu">length</span>(<span class="fu">na.omit</span>(x)))} <span class="co">#muss nur einmal definiert werden</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="fu">std</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1042081</code></pre>
</div>
</div>
<p>weitere Maße zur beschreibenden Statistik:</p>
<ul>
<li>Minimum <code>min()</code></li>
<li>Maximum <code>max()</code></li>
<li>Wertebereich <code>range()</code></li>
<li>Quantile <code>quantile()</code></li>
<li>Varianzkoeffizient = CV = sd/mean</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(pot<span class="sc">$</span>tubers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  0%  25%  50%  75% 100% 
   0    3    4    6   13 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(pot<span class="sc">$</span>tubers, <span class="at">p=</span><span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">0.90</span>, <span class="fl">0.95</span>, <span class="fl">0.99</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 1%  5% 10% 25% 50% 75% 90% 95% 99% 
  0   2   2   3   4   6   8   9  11 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Funktion für Variationskoeffizienten</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>CV <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {<span class="fu">sd</span>(x, <span class="at">na.rm=</span><span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">mean</span>(x, <span class="at">na.rm=</span><span class="cn">TRUE</span>)} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>q25 = ~quantile(., 0.25),</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> </span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">tubers_avg=</span><span class="fu">mean</span>(tubers),</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_med=</span><span class="fu">median</span>(tubers),</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_var=</span><span class="fu">var</span>(tubers),</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_sd=</span><span class="fu">sd</span>(tubers),</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_std=</span><span class="fu">std</span>(tubers),</span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_min=</span><span class="fu">min</span>(tubers),</span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_max=</span><span class="fu">max</span>(tubers),</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_q25=</span><span class="fu">quantile</span>(tubers, <span class="fl">0.25</span>),</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">tubers_q75=</span><span class="fu">quantile</span>(tubers, <span class="fl">0.75</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  tubers_avg tubers_med tubers_var tubers_sd tubers_std tubers_min tubers_max
1   4.721757          4   5.190763  2.278324  0.1042081          0         13
  tubers_q25 tubers_q75
1          3          6</code></pre>
</div>
</div>
</section>
<section id="anwendungsbeispiele" class="level2">
<h2 class="anchored" data-anchor-id="anwendungsbeispiele">Anwendungsbeispiele</h2>
<p>Eine erste einfache Beschreibung der Daten kann mit der Funktion <code>summary()</code> erfolgen. Hier sieht man jetzt den Unterschied im Output zwischen variety (als <em>character</em>) und variety.f (als <em>factor</em>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(pot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   variety             method              plant           tubers      
 Length:478         Length:478         Min.   : 1.00   Min.   : 0.000  
 Class :character   Class :character   1st Qu.: 3.00   1st Qu.: 3.000  
 Mode  :character   Mode  :character   Median : 5.00   Median : 4.000  
                                       Mean   : 5.49   Mean   : 4.722  
                                       3rd Qu.: 8.00   3rd Qu.: 6.000  
                                       Max.   :10.00   Max.   :13.000  
     weight         infection          variety.f         method.f   infection.f
 Min.   :  0.00   Min.   :0.0000   Costanera:158   aeroponic :120   0:318      
 1st Qu.: 26.07   1st Qu.:0.0000   Mariva   :160   bed       :120   1:160      
 Median : 61.00   Median :0.0000   Unica    :160   hydroponic:118              
 Mean   : 72.77   Mean   :0.3347                   pot       :120              
 3rd Qu.:109.25   3rd Qu.:1.0000                                               
 Max.   :323.30   Max.   :1.0000                                               </code></pre>
</div>
</div>
<p>Möchte man eine beschreibende Statistik für jede numerische Variable berechnen, kann die Funktion <code>summarise_if(is.numeric, mean, na.rm = TRUE)</code> genutzt werden. Im Beispiel berechnen wir den Mittelwert für alle Variablen im <code>data.frame pot</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_if</span>(is.numeric, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    plant   tubers   weight infection
1 5.48954 4.721757 72.77259  0.334728</code></pre>
</div>
</div>
<p>Häufig möchte man die beschreibende Statistik für ein oder mehrere Gruppierungslevel berechnen. Bspw. das mittleres Gewicht je Sorte. Wir nutzen hierfür die Funktion <code>group_by()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(variety) <span class="sc">%&gt;%</span> </span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight_avg=</span><span class="fu">mean</span>(weight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 x 2
  variety   weight_avg
  &lt;chr&gt;          &lt;dbl&gt;
1 Costanera       74.1
2 Mariva          74.7
3 Unica           69.6</code></pre>
</div>
</div>
<p>Bsp.: mittleres Gewicht je Sorte und Methode</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(variety, method) <span class="sc">%&gt;%</span> </span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight_avg=</span><span class="fu">mean</span>(weight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'variety'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 x 3
# Groups:   variety [3]
   variety   method     weight_avg
   &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;
 1 Costanera aeroponic        40.2
 2 Costanera bed              87.5
 3 Costanera hydroponic       25.1
 4 Costanera pot             141. 
 5 Mariva    aeroponic        95.4
 6 Mariva    bed              96.8
 7 Mariva    hydroponic       14.3
 8 Mariva    pot              92.2
 9 Unica     aeroponic        88.5
10 Unica     bed              69.1
11 Unica     hydroponic       26.3
12 Unica     pot              94.6</code></pre>
</div>
</div>
<p>Bsp.: Mittelwert und Standardabweichung von Gewicht je Sorte und Methode</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(variety, method) <span class="sc">%&gt;%</span> </span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weight_avg=</span><span class="fu">mean</span>(weight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">weight_sd=</span><span class="fu">sd</span>(weight, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'variety'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 x 4
# Groups:   variety [3]
   variety   method     weight_avg weight_sd
   &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;     &lt;dbl&gt;
 1 Costanera aeroponic        40.2     16.6 
 2 Costanera bed              87.5     32.6 
 3 Costanera hydroponic       25.1      8.17
 4 Costanera pot             141.      22.2 
 5 Mariva    aeroponic        95.4     54.8 
 6 Mariva    bed              96.8     54.8 
 7 Mariva    hydroponic       14.3      9.34
 8 Mariva    pot              92.2     27.4 
 9 Unica     aeroponic        88.5     70.8 
10 Unica     bed              69.1     36.4 
11 Unica     hydroponic       26.3     14.1 
12 Unica     pot              94.6     60.3 </code></pre>
</div>
</div>
<p>Hier ein Code für eine Übersichtstabelle zur Beschreibung der Daten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="at">.fns =</span> </span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">list</span>(<span class="at">min =</span> min,</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">median =</span> median,</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">mean =</span> mean,</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">stdev =</span> sd,</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q25 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.25</span>),</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q75 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.75</span>),</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">max =</span> max, </span>
<span id="cb135-10"><a href="#cb135-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">n=</span>length))) <span class="sc">%&gt;%</span></span>
<span id="cb135-11"><a href="#cb135-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_sep=</span><span class="st">'_'</span>, <span class="at">names_to=</span><span class="fu">c</span>(<span class="st">'variable'</span>, <span class="st">'.value'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 x 9
  variable    min median   mean  stdev   q25   q75   max     n
  &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
1 plant         1      5  5.49   2.87    3      8    10    478
2 tubers        0      4  4.72   2.28    3      6    13    478
3 weight        0     61 72.8   53.6    26.1  109.  323.   478
4 infection     0      0  0.335  0.472   0      1     1    478</code></pre>
</div>
</div>
<p>und hier nur für <code>tubers</code> und <code>weight</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">c</span>(<span class="st">"tubers"</span>, <span class="st">"weight"</span>), <span class="at">.fns =</span> </span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">list</span>(<span class="at">min =</span> min,</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">median =</span> median,</span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">mean =</span> mean,</span>
<span id="cb137-5"><a href="#cb137-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">stdev =</span> sd,</span>
<span id="cb137-6"><a href="#cb137-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q25 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.25</span>),</span>
<span id="cb137-7"><a href="#cb137-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q75 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.75</span>),</span>
<span id="cb137-8"><a href="#cb137-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">max =</span> max, </span>
<span id="cb137-9"><a href="#cb137-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">n=</span>length))) <span class="sc">%&gt;%</span></span>
<span id="cb137-10"><a href="#cb137-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_sep=</span><span class="st">'_'</span>, <span class="at">names_to=</span><span class="fu">c</span>(<span class="st">'variable'</span>, <span class="st">'.value'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 9
  variable   min median  mean stdev   q25   q75   max     n
  &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
1 tubers       0      4  4.72  2.28   3      6    13    478
2 weight       0     61 72.8  53.6   26.1  109.  323.   478</code></pre>
</div>
</div>
<p>bzw. ohne <code>plant</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span> </span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>plant)<span class="sc">%&gt;%</span> </span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), <span class="at">.fns =</span> </span>
<span id="cb139-4"><a href="#cb139-4" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">list</span>(<span class="at">min =</span> min,</span>
<span id="cb139-5"><a href="#cb139-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">median =</span> median,</span>
<span id="cb139-6"><a href="#cb139-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">mean =</span> mean,</span>
<span id="cb139-7"><a href="#cb139-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">stdev =</span> sd,</span>
<span id="cb139-8"><a href="#cb139-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q25 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.25</span>),</span>
<span id="cb139-9"><a href="#cb139-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q75 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.75</span>),</span>
<span id="cb139-10"><a href="#cb139-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">max =</span> max, </span>
<span id="cb139-11"><a href="#cb139-11" aria-hidden="true" tabindex="-1"></a>                          <span class="at">n=</span>length))) <span class="sc">%&gt;%</span></span>
<span id="cb139-12"><a href="#cb139-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_sep=</span><span class="st">'_'</span>, <span class="at">names_to=</span><span class="fu">c</span>(<span class="st">'variable'</span>, <span class="st">'.value'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 x 9
  variable    min median   mean  stdev   q25   q75   max     n
  &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
1 tubers        0      4  4.72   2.28    3      6    13    478
2 weight        0     61 72.8   53.6    26.1  109.  323.   478
3 infection     0      0  0.335  0.472   0      1     1    478</code></pre>
</div>
</div>
<p>für unterschiedliche Methoden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>pot <span class="sc">%&gt;%</span>  <span class="fu">group_by</span>(method) <span class="sc">%&gt;%</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">c</span>(<span class="st">"tubers"</span>, <span class="st">"weight"</span>), <span class="at">.fns =</span> </span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">list</span>(<span class="at">min =</span> min,</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">median =</span> median,</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">mean =</span> mean,</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">stdev =</span> sd,</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q25 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.25</span>),</span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">q75 =</span> <span class="sc">~</span><span class="fu">quantile</span>(., <span class="fl">0.75</span>),</span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">max =</span> max, </span>
<span id="cb141-10"><a href="#cb141-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">n=</span>length))) <span class="sc">%&gt;%</span></span>
<span id="cb141-11"><a href="#cb141-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>method,  <span class="at">names_sep=</span><span class="st">'_'</span>, <span class="at">names_to=</span><span class="fu">c</span>(<span class="st">'variable'</span>, <span class="st">'.value'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb141-12"><a href="#cb141-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(variable)<span class="sc">%&gt;%</span> </span>
<span id="cb141-13"><a href="#cb141-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(variable)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 x 10
  variable method       min median   mean stdev   q25   q75   max     n
  &lt;chr&gt;    &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
1 tubers   aeroponic   0       5     4.76  2.29  3.75   6    13     120
2 tubers   bed         1       5     5.55  2.37  4      7    13     120
3 tubers   hydroponic  1       3     3.15  1.67  2      4     8     118
4 tubers   pot         2       5     5.4   1.89  4      7    10     120
5 weight   aeroponic   0      62.1  74.7  57.7  36.2   99.2 323.    120
6 weight   bed        13.2    79.6  84.5  43.6  50.3  118.  227.    120
7 weight   hydroponic  2.95   20.0  21.8  12.1  14.1   25.4  58.7   118
8 weight   pot        11.3   111.  109.   45.9  72.7  143.  248.    120</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>